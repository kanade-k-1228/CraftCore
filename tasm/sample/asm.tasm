asm reset @ 0x0000 {
  // Loop 1
  load(t0, 0x0010);
  sub(t0, t0, 1);
  if(t0, -1);

  // Loop 2
  load(t0, 0x0010);
  a:
  sub(t0, t0, 1);
  if(t0, a);

  jump(halt);
}

static pwcsr @ 0x0010 : int; // Power Control Register

asm halt {
  load(t0, 0x0001);
  store(pwcsr, t0);
}
